<!-- spinner, uses the interceptor to work -->
<ngx-spinner [bdColor]="'rgba(0, 0, 0, 0.8)'"></ngx-spinner>
<app-user-widget-cards></app-user-widget-cards>
<div class="tables">
    <div class="profiletable" >
      <h2 class="section-heading"> Daily Logs</h2>
      <div class="card">
        <p-table [value]="traineeLogs" [tableStyle]="{'min-width': '60rem'}" sortMode="multiple">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="date">
                        Date <p-sortIcon field="date" />
                    </th>
                    <th pSortableColumn="checkin">
                        Check-In <p-sortIcon field="checkin" />
                    </th>
                    <th pSortableColumn="checkout">
                        Check-Out <p-sortIcon field="checkout" />
                    </th>
                    <th pSortableColumn="status">
                        Status <p-sortIcon field="status" />
                    </th>
                    <th pSortableColumn="workhours">
                        Work Hours <p-sortIcon field="workhours" />
                    </th>
                    <th pSortableColumn="remark">
                        Remark <p-sortIcon field="remark" />
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-log>
                <tr>
                    <td>{{ log.date }}</td>
                    <td>{{ log.checkin }}</td>
                    <td>{{ log.checkout }}</td>
                    <td>{{ log.status }}</td>
                    <td>{{ log.workhours }}</td>
                    <td>{{ log.remark }}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
    
    </div>
    
    <div class="futureHolidays">
        <p class="section-heading">Holidays</p>
        <div class="scrollable-container">
          <p-table [value]="holidays" scrollable="true" [scrollHeight]="'400px'" id="holidayTable">
            <ng-template pTemplate="header">
              <tr>
                <th>Date</th>
                <th>Name</th>
                <th>Type</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
              <tr [ngClass]="{
                'highlight-row': item.holidayName === 'Added Holiday' && item.holidayType === 'full_day',
                'highlight-row-half': item.holidayName === 'Added Holiday' && item.holidayType === 'half_day'
              }">
                <td>{{ item.holidayDate | date: 'mediumDate' }}</td>
                <td>{{ item.holidayName }}</td>
                <td>
                  <ng-container *ngIf="item.holidayType === 'full_day'; else halfDay">
                    Full Day
                  </ng-container>
                  <ng-template #halfDay>
                    Half Day
                  </ng-template>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
</div>
