<div class="contents">
    <div class="container">
        <div class="filter-row">
            <div class="left-filters">
                <p-autoComplete id="search-bar"
                    [(ngModel)]="selectedItem" 
                    [suggestions]="suggestions" 
                    (completeMethod)="search($event)"
                    placeholder="Quick Search" />
            </div>
            <div class="right-filters">
                <p-calendar 
                    id="datepick"
                    [(ngModel)]="date2" 
                    [iconDisplay]="'input'" 
                    [showIcon]="true" 
                    inputId="icondisplay" 
                    placeholder="Select Date">
                </p-calendar>
                
                <p-multiSelect 
                    [options]="filterOptions"
                    [(ngModel)]="selectedOptions"
                    optionLabel="name"
                    [showClear]="true"
                    placeholder="Advanced Filters">
                    <ng-template pTemplate="header">
                        <div class="status-heading">
                            <h3>Status</h3>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="selectedItem" let-selectedOption>
                        <div class="flex align-items-center gap-2">
                            <div>{{ selectedOption?.name }}</div>
                        </div>
                    </ng-template>
                    <ng-template let-option pTemplate="item">
                        <div class="flex align-items-center gap-2">
                            <div>{{ option.name }}</div>
                        </div>
                    </ng-template>
                </p-multiSelect>
            </div>
        </div>
  
        <div class="card table-container">
            <p-table [value]="traineeLogs" [paginator]="true" [rows]="5" [sortMode]="'single'" paginatorPosition="top">
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="id">Code <p-sortIcon field="id"></p-sortIcon></th>
                        <th pSortableColumn="employee">Trainee Name <p-sortIcon field="employee"></p-sortIcon></th>
                        <th pSortableColumn="ilp">Batch <p-sortIcon field="ilp"></p-sortIcon></th>
                        <th pSortableColumn="date">Date <p-sortIcon field="date"></p-sortIcon></th>
                        <th pSortableColumn="status">Status <p-sortIcon field="status"></p-sortIcon></th>
                        <th pSortableColumn="checkin">Check-In <p-sortIcon field="checkin"></p-sortIcon></th>
                        <th pSortableColumn="checkout">Check-Out <p-sortIcon field="checkout"></p-sortIcon></th>
                        <th pSortableColumn="workhours">Work Hours <p-sortIcon field="workhours"></p-sortIcon></th>
                        <!-- <th *ngIf="showTimeColumns" pSortableColumn="attendancepercentage">Attendance % <p-sortIcon field="attendancepercentage"></p-sortIcon></th> -->
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-trainee>
                    <tr>
                        <td><strong>{{ trainee.employeeCode }}</strong></td>
                        <td><strong>{{ trainee.name }}</strong></td>
                        <td><strong>{{ trainee.batch }}</strong></td>
                        <td><strong>{{ formatDate(trainee.date)}}</strong></td>
                        <td><strong><span [ngClass]="getStatusClass(trainee.status)">{{ trainee.status }}</span></strong></td>
                        <td><strong><span [ngClass]="getCheckinTimeClass(trainee.loginTime, trainee.status)">{{ getDisplayTime(trainee.loginTime, trainee.status) }}</span></strong></td>
                        <td><strong> <span [ngClass]="getCheckoutTimeClass(trainee.logoutTime, trainee.status)">{{ getDisplayTime(trainee.logoutTime, trainee.status) }}</span></strong></td>
                        <td><strong>{{ trainee.totalWorkHour}} Hrs</strong></td>
                        <!-- <td *ngIf="!isAbsent(trainee.status)"><strong>{{ trainee.attendancepercentage }}</strong></td> -->
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
  </div>
  